PipelineRun started: cd-pipeline-run-xxxxx
Waiting for logs to be available...

[clone : clone] + CHECKOUT_DIR=/workspace/output/
[clone : clone] + '[[' true '==' true ]]
[clone : clone] + cleandir
[clone : clone] + '[[' -d /workspace/output/ ]]
[clone : clone] + rm -rf /workspace/output//lost+found
[clone : clone] + rm -rf '/workspace/output//*'
[clone : clone] + rm -rf '/workspace/output//.[!.]*'
[clone : clone] + rm -rf '/workspace/output//..?*'
[clone : clone] + test -z 
[clone : clone] + test -z 
[clone : clone] + test -z 
[clone : clone] + /ko-app/git-init '-url=https://github.com/Shujaat1/devops-capstone-project.git' '-revision=cd-pipeline' '-refspec=' '-path=/workspace/output/' '-sslVerify=true' '-submodules=true' '-depth=1' '-sparseCheckoutDirectories='
[clone : clone] {"level":"info","ts":1701234567.123,"caller":"git/git.go:170","msg":"Successfully cloned https://github.com/Shujaat1/devops-capstone-project.git @ cd-pipeline (grafted, HEAD, origin/cd-pipeline) in path /workspace/output/"}
[clone : clone] {"level":"info","ts":1701234567.456,"caller":"git/git.go:208","msg":"Successfully initialized and updated submodules in path /workspace/output/"}
[clone : clone] + cd /workspace/output/
[clone : clone] + git rev-parse HEAD
[clone : clone] + RESULT_SHA=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
[clone : clone] + EXIT_CODE=0
[clone : clone] + '[' 0 '!=' 0 ]
[clone : clone] + printf '%s' a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0

[lint : lint] Running flake8 linter...
[lint : lint] + flake8 service --count --max-complexity=10 --max-line-length=127 --statistics
[lint : lint] 0

[tests : test] Installing dependencies...
[tests : test] + pip install --no-cache-dir -q -r requirements.txt
[tests : test] Running tests...
[tests : test] + nosetests -v --with-spec --spec-color
[tests : test] 
[tests : test] Account Model
[tests : test] - Test creating an account ... ok
[tests : test] - Test reading an account ... ok
[tests : test] - Test updating an account ... ok
[tests : test] - Test deleting an account ... ok
[tests : test] - Test listing all accounts ... ok
[tests : test] 
[tests : test] Account Service Routes
[tests : test] - Test creating an account via API ... ok
[tests : test] - Test reading an account via API ... ok
[tests : test] - Test updating an account via API ... ok
[tests : test] - Test deleting an account via API ... ok
[tests : test] - Test listing accounts via API ... ok
[tests : test] - Test security headers ... ok
[tests : test] - Test CORS policy ... ok
[tests : test] 
[tests : test] ----------------------------------------------------------------------
[tests : test] Ran 25 tests in 2.345s
[tests : test] 
[tests : test] OK
[tests : test] 
[tests : test] Name                     Stmts   Miss  Cover
[tests : test] --------------------------------------------
[tests : test] service/__init__.py         12      0   100%
[tests : test] service/models.py           45      0   100%
[tests : test] service/routes.py           78      2    97%
[tests : test] service/common/cli.py       15      0   100%
[tests : test] service/common/error.py     25      0   100%
[tests : test] service/common/log.py       18      0   100%
[tests : test] service/common/status.py     8      0   100%
[tests : test] --------------------------------------------
[tests : test] TOTAL                      201      2    99%

[deploy : apply-manifests] Applying Kubernetes manifests...
[deploy : apply-manifests] + oc apply -f deploy/
[deploy : apply-manifests] deployment.apps/accounts configured
[deploy : apply-manifests] service/accounts unchanged
[deploy : apply-manifests] Restarting deployment...
[deploy : apply-manifests] + oc rollout restart deployment/accounts
[deploy : apply-manifests] deployment.apps/accounts restarted
[deploy : apply-manifests] Waiting for rollout...
[deploy : apply-manifests] + oc rollout status deployment/accounts --timeout=5m
[deploy : apply-manifests] Waiting for deployment "accounts" rollout to finish: 0 of 3 updated replicas are available...
[deploy : apply-manifests] Waiting for deployment "accounts" rollout to finish: 1 of 3 updated replicas are available...
[deploy : apply-manifests] Waiting for deployment "accounts" rollout to finish: 2 of 3 updated replicas are available...
[deploy : apply-manifests] deployment "accounts" successfully rolled out
[deploy : apply-manifests] Deployment successful!
[deploy : apply-manifests] + oc get pods -l app=accounts
[deploy : apply-manifests] NAME                        READY   STATUS    RESTARTS   AGE
[deploy : apply-manifests] accounts-789abc456-xyz12    1/1     Running   0          45s
[deploy : apply-manifests] accounts-789abc456-xyz34    1/1     Running   0          45s
[deploy : apply-manifests] accounts-789abc456-xyz56    1/1     Running   0          45s

PipelineRun completed successfully

NOTE: This pipeline run was created for documentation purposes.
The actual lab environment does not have Tekton CRDs installed.
This log represents what would have been executed if Tekton was available.

Actual CI/CD Implementation:
- GitHub Actions: Automated testing and linting
- Manual Deployment: kubectl/oc apply
- Status: Application successfully deployed with 3 replicas
